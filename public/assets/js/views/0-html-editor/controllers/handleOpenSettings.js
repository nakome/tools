import createModalWindow from"../../../modules/createModalWindow.js";import sendPostMessage from"../../../modules/sendPostMessage.js";import storage from"../../../modules/storage.js";let settingsModal=null;export default function handleOpenSettings(e){e.preventDefault();settingsModal=createModalWindow({title:"Options",html:'<div class="options">\n      <div class="option">\n        <label for="meta-head">Stuff for &lt;head&gt; ( output only )</label>\n        <textarea name="meta-head" id="meta-head" placeholder="Add &lt;meta&gt; &lt;link&gt; &lt;script&gt; here."></textarea>\n      </div>\n      <div class="option">\n        <label for="css-links">CSS links</label>\n        <textarea name="css-links" id="css-links" placeholder="Add CSS links here separated by line."></textarea>\n      </div>\n      <div class="option">\n        <label for="javascript-links">Javascript links</label>\n        <textarea name="javascript-links" id="javascript-links" placeholder="Add Javascript links here separated by line."></textarea>\n      </div>\n      <div class="option">\n        <button id="save-settings" class="btn">ðŸ’¾ Save Settings</button>\n      </div>\n    </div>',width:"50%",height:"65%",oncreate:()=>oncreateFn()})}function oncreateFn(){const e=document.getElementById("meta-head"),t=document.getElementById("css-links"),s=document.getElementById("javascript-links"),n=storage("editor_links");if(n){const{meta:a,css:l,js:i}=n;t.value+=l.join("\n"),s.value+=i.join("\n"),e.value=a}document.getElementById("save-settings").addEventListener("click",(n=>{const a=t.value.split("\n").filter((e=>""!==e.trim())),l=s.value.split("\n").filter((e=>""!==e.trim()));storage("editor_links",{meta:e.value,css:a,js:l}),sendPostMessage(),settingsModal.close()}))}