import copyToClipboard from"../../../js/modules/copyToClipboard.js";const textAreaInput=document.getElementById("textAreaInput"),imageDisplay=document.getElementById("image-display"),imgInput=document.getElementById("image-input"),copyBtn=document.getElementById("copyBtn");copyBtn.addEventListener("click",(e=>copyToClipboard(e,textAreaInput.value))),textAreaInput.addEventListener("paste",(e=>{let t=e.clipboardData.getData("text");imageDisplay.setAttribute("src",t),imageDisplay.style.display="block",window.localStorage.setItem("image-base64",t)})),(()=>{const e=window.localStorage;e.setItem("image-base64","");const t=()=>{const t=imageDisplay.getAttribute("src"),a=setTimeout((()=>{imageDisplay.src=e.getItem("image-base64")||t,textAreaInput.value=e.getItem("image-base64")||t,imageDisplay.style.display="block",clearTimeout(a)}),200)};t(),imgInput.addEventListener("change",(()=>{if(imgInput.files.length){const a=new FileReader;a.onload=async a=>{const i=a.target.result;(e=>{const t=.75*e.length;return!(parseInt(t)>parseInt(2097152)&&(alert("The size of the image exceeds the local storage quota."),1))})(i)&&(e.setItem("image-base64",i),t())},a.readAsDataURL(imgInput.files[0])}}),!1)})();