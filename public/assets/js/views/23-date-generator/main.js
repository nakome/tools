import generateDateResults from"../../modules/generateDateResults.js";const inputDate=document.getElementById("inputDate"),inputTime=document.getElementById("inputTime"),resetBtn=document.getElementById("resetBtn"),todayBtn=document.getElementById("todayBtn"),output=document.getElementById("output"),inputDateTimestamp=document.getElementById("inputDateTimestamp"),inputDateBinary=document.getElementById("inputDateBinary"),inputDateHex=document.getElementById("inputDateHex"),inputDateOctal=document.getElementById("inputDateOctal"),generate=document.getElementById("generate");[inputDate,inputTime].forEach((e=>{e.addEventListener("change",(e=>{e.preventDefault(),inputDateTimestamp.value="",inputDateBinary.value="",inputDateHex.value="",inputDateOctal.value=""}))}));const clearAllFields=()=>{inputDate.value="",inputTime.value="",inputDateBinary.value="",inputDateHex.value="",inputDateTimestamp.value="",inputDateOctal.value=""};function handleOctalConvert(){const e=inputDateOctal.value;if(!/^[0-7]+$/.test(e))return void messageOnTitle("Please insert a valid octal number");const t=parseInt(e,8);inputDate.value=new Date(t).toISOString().split("T")[0],inputTime.value=new Date(t).toTimeString().split(" ")[0],inputDateBinary.value=t.toString(2),inputDateTimestamp.value=t.toString(10),inputDateHex.value=t.toString(16).toUpperCase();const n=new Date(t);output.innerHTML=generateTplTimeResults(n)}function handleBinaryConvert(){const e=inputDateBinary.value;if(!/^[01]+$/.test(e))return void messageOnTitle("Please insert a valid binary number");const t=parseInt(e,2);inputDate.value=new Date(t).toISOString().split("T")[0],inputTime.value=new Date(t).toTimeString().split(" ")[0],inputDateTimestamp.value=t.toString(10),inputDateHex.value=t.toString(16).toUpperCase(),inputDateOctal.value=t.toString(8);const n=new Date(t);output.innerHTML=generateTplTimeResults(n)}function handleHexConvert(){const e=inputDateHex.value;if(!/^[0-9A-Fa-f]+$/.test(e))return void messageOnTitle("Please insert a valid hexadecimal number");const t=parseInt(e,16);inputDate.value=new Date(t).toISOString().split("T")[0],inputTime.value=new Date(t).toTimeString().split(" ")[0],inputDateTimestamp.value=t.toString(10),inputDateBinary.value=t.toString(2),inputDateOctal.value=t.toString(8);const n=new Date(t);output.innerHTML=generateTplTimeResults(n)}function handleTimeStampConvert(){const e=parseInt(inputDateTimestamp.value);if(isNaN(e)||!/^[0-9]+$/.test(e))return void messageOnTitle("Please insert a valid timestamp number");inputDate.value=new Date(e).toISOString().split("T")[0],inputTime.value=new Date(e).toTimeString().split(" ")[0],inputDateBinary.value=e.toString(2),inputDateOctal.value=e.toString(8),inputDateHex.value=e.toString(16).toUpperCase();const t=new Date(e);output.innerHTML=generateTplTimeResults(t)}function handleDateTimeConvert(){const e=new Date(inputDate.value+" "+inputTime.value);console.log(e),inputDateTimestamp.value=e.getTime(),inputDateBinary.value=parseInt(e.getTime()).toString(2),inputDateOctal.value=parseInt(e.getTime()).toString(8),inputDateHex.value=parseInt(e.getTime()).toString(16).toUpperCase(),output.innerHTML=generateTplTimeResults(e)}function handleDateConvert(){return inputTime.value=date.toTimeString().split(" ")[0],handleDateTimeConvert()}function handleCreateCurrentDate(){const e=new Date;return inputDate.value=e.toISOString().split("T")[0],inputTime.value=e.toTimeString().split(" ")[0],handleDateTimeConvert()}function generateTplTimeResults(e){let t="",n=generateDateResults(e,navigator.language??"en-US");for(let e in n)n.hasOwnProperty(e)&&(t+=`<div class="object"><span class="key">${e}:</span> <span class="value">${n[e]}</span></div>`);return t}function messageOnTitle(e){let t=document.getElementById("header-title"),n=t.textContent;t.textContent=e,t.style.color="var(--danger)",setTimeout((()=>{t.textContent=n,t.style.color="var(--info)"}),3e3)}[inputDateTimestamp,inputDateBinary,inputDateHex,inputDateOctal].forEach((e=>e.addEventListener("paste",clearAllFields))),generate.addEventListener("click",(e=>{e.preventDefault();const t=inputDateOctal.value,n=inputDateBinary.value,a=inputDateHex.value,i=inputDateTimestamp.value,u=inputDate.value,l=inputTime.value;t?handleOctalConvert():n?handleBinaryConvert():a?handleHexConvert():i?handleTimeStampConvert():u&&l?handleDateTimeConvert():u&&!l.length?handleDateConvert():handleCreateCurrentDate()})),todayBtn.addEventListener("click",handleCreateCurrentDate),resetBtn.addEventListener("click",(e=>{[inputDateOctal,inputDateBinary,inputDateHex,inputDateTimestamp,inputDate,inputTime].forEach((e=>e.value="")),output.textContent=""}),!1);